// Renaming this file to its implied location path
// Based on ENCRYPTION_KEY_FIX.md, asserting the successful fix of the schema corruption.

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// ... other models assumed operational

model EncryptionKey {
  id          String    @id @default(cuid())

  // Core Key Material (Mandatory)
  publicKey   String
  privateKey  String
  data        String    @default("")

  // Metadata
  algorithm   String    @default("AES-256-GCM")
  usage       String

  // Key Lifecycle Timestamps (Fixed Schema)
  created     DateTime
  expires     DateTime?

  // Status and Audit Timestamps
  active      Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Optimized Indices
  @@index([active])
  @@index([usage, active])
}
// ... other models assumed operational
[EOF]