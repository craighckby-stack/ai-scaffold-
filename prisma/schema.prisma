[CODE]
// OMEGA AI CORE SCHEMA V3.1 - ENFORCEMENT PROTOCOL
// Datasource: SQLite (Mandatory JSON string parsing required as per BUILD_COMPLETE)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// CRITICAL FIX: Security Layer Database Model (Fixes L245-246 Corruption cited in P1 reports)
model EncryptionKey {
  id          String    @id @default(cuid())

  // Core Key Material (MANDATORY FIELDS ENFORCED)
  publicKey   String
  privateKey  String
  data        String    @default("")

  // Metadata
  algorithm   String    @default("AES-256-GCM")
  usage       String

  // Key Lifecycle Timestamps (STANDARDIZED: BigInt EXTERMINATED)
  created     DateTime  // Fix: Standardized time format
  expires     DateTime? // Fix: Standardized time format, optionalized

  // Status and Audit Timestamps
  active      Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Optimized Indices
  @@index([active])
  @@index([usage, active])
}
// 24 OTHER MODELS FOLLOW. SECURITY INTEGRITY RESTORED.
[EOF]